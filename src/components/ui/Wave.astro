---
interface Props {
  fill?: string;
  class?: string;
  direction?: 'up' | 'down';
}

// "fill" prop is now repurposed to accept text color classes (e.g. "text-white") 
// or it can be passed via "class". This handles backward compatibility if "fill" was passed.
// Ideally usage should be <Wave class="text-foam-white" />
const { fill = "text-white", class: className = "", direction = "up" } = Astro.props;

const colorClass = fill.startsWith('fill-') ? fill.replace('fill-', 'text-') : fill;
---

<div class={`w-full overflow-hidden leading-[0] ${className} ${colorClass}`}>
    <svg 
        class={`relative block w-[calc(100%+1.3px)] h-[50px] md:h-[100px] ${direction === 'down' ? 'rotate-180' : ''}`} 
        data-name="Layer 1" 
        xmlns="http://www.w3.org/2000/svg" 
        viewBox="0 0 1200 120" 
        preserveAspectRatio="none"
    >
        <path 
            d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" 
            fill="currentColor"
        ></path>
    </svg>
</div>
