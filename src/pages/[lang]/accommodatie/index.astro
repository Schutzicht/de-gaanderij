---
import Layout from '../../../layouts/Layout.astro';
import ScrollReveal from '../../../components/ui/ScrollReveal.astro';
import ParallaxImage from '../../../components/ui/ParallaxImage.astro';

export function getStaticPaths() {
  return [
    { params: { lang: 'nl' } },
    { params: { lang: 'en' } },
    { params: { lang: 'de' } },
  ];
}

const { lang } = Astro.params;

const content = {
  nl: {
    title: "Accommodatie",
    headline: "Luxe Lofts in Barendrecht",
    intro: "Ontdek onze ruime lofts, elk met een unieke sfeer en van alle gemakken voorzien. Perfect voor een kort of lang verblijf.",
    btnText: "Bekijk Details"
  },
  en: {
    title: "Accommodation",
    headline: "Luxury Lofts in Barendrecht",
    intro: "Discover our spacious lofts, each with a unique atmosphere and fully equipped. Perfect for a short or long stay.",
    btnText: "View Details"
  },
  de: {
    title: "Unterkunft",
    headline: "Luxus-Lofts in Barendrecht",
    intro: "Entdecken Sie unsere geräumigen Lofts, jedes mit einzigartiger Atmosphäre und voll ausgestattet. Perfekt für einen kurzen oder langen Aufenthalt.",
    btnText: "Details Ansehen"
  }
};

const t = content[lang] || content.nl;
import { rooms } from '../../../data/rooms';
const currentRooms = rooms[lang] || rooms.nl;
---

<Layout title={`B&B De Gaanderij - ${t.title}`} lang={lang}>
  
  <!-- Minimal Header -->
  <div class="relative bg-stone-50 py-32 text-center text-slate-800">
      <ScrollReveal animation="fade-up">
         <h1 class="font-heading text-5xl md:text-7xl font-bold mb-8 text-sea-blue tracking-tight">{t.headline}</h1>
         <p class="max-w-2xl mx-auto text-slate-600 text-xl font-normal leading-relaxed">{t.intro}</p>
         <div class="w-24 h-[1px] bg-sea-blue/30 mx-auto mt-12"></div>
      </ScrollReveal>
  </div>

  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-32">
    
    <div class="space-y-32">
       {currentRooms.map((room, index) => (
         <div class={`flex flex-col ${index % 2 === 1 ? 'lg:flex-row-reverse' : 'lg:flex-row'} items-center gap-12 lg:gap-24`}>
            
            {/* Image Side */}
            <div class="w-full lg:w-1/2 relative group">
               <ScrollReveal animation={index % 2 === 0 ? 'slide-left' : 'slide-right'} duration={1.2}>
                   <a href={`/${lang}/accommodatie/${room.slug}`} class="block relative overflow-hidden rounded-sm shadow-2xl aspect-[4/3] group-hover:shadow-3xl transition-shadow duration-500">
                      <ParallaxImage 
                        src={room.images[0]} 
                        alt={room.title} 
                        class="h-full w-full object-cover transform group-hover:scale-105 transition-transform duration-700"
                      />
                      <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition-colors duration-500"></div>
                      
                      <!-- Hover Overlay -->
                      <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-black/20 backdrop-blur-[2px]">
                          <span class="inline-block px-8 py-4 bg-white text-slate-900 text-sm font-bold uppercase tracking-widest hover:bg-sea-blue hover:text-white transition-colors duration-300">
                              {t.btnText}
                          </span>
                      </div>
                   </a>
                   <!-- Decor element -->
                   <div class={`absolute -bottom-6 ${index % 2 === 0 ? '-right-6' : '-left-6'} w-24 h-24 border-b-2 border-${index % 2 === 0 ? 'r' : 'l'}-2 border-sea-blue/20 hidden lg:block`}></div>
               </ScrollReveal>
            </div>

            {/* Content Side */}
            <div class="w-full lg:w-1/2">
                <ScrollReveal animation="fade-up" delay={0.2}>
                    <a href={`/${lang}/accommodatie/${room.slug}`} class="group">
                        <h2 class="text-4xl font-heading font-light text-sea-blue mb-6 group-hover:text-slate-900 transition-colors duration-300">{room.title}</h2>
                    </a>
                    <p class="text-lg text-slate-600 leading-relaxed mb-8 font-light border-l-2 border-slate-200 pl-6">
                       {room.desc}
                    </p>
                    
                    <div class="grid grid-cols-2 gap-4 mb-8">
                        {room.amenities.slice(0, 4).map(amenity => (
                            <div class="flex items-center text-sm font-medium text-slate-500">
                                <span class="w-1.5 h-1.5 bg-sea-blue/40 rounded-full mr-3"></span>
                                {amenity}
                            </div>
                        ))}
                    </div>

                    <a 
                        href={`/${lang}/accommodatie/${room.slug}`}
                        class="inline-block text-sea-blue font-bold uppercase tracking-widest text-xs border-b border-sea-blue/30 pb-1 hover:text-slate-900 hover:border-slate-900 transition-colors duration-300"
                    >
                        {t.btnText}
                    </a>
                </ScrollReveal>
            </div>

         </div>
       ))}
    </div>

    <!-- Info / Rules Section -->
    <div class="mt-40 bg-white p-12 lg:p-20 rounded-sm border border-slate-100 shadow-xl relative overflow-hidden">
        <ScrollReveal animation="fade-up">
            <div class="relative z-10 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                   <h3 class="text-3xl font-heading font-light text-sea-blue mb-6">{lang === 'nl' ? 'Goed om te weten' : 'Good to know'}</h3>
                   <p class="text-slate-600 mb-8">{lang === 'nl' ? 'Wij streven naar een zorgeloos verblijf voor al onze gasten. Hier zijn enkele praktische zaken om rekening mee te houden.' : 'We strive for a carefree stay for all our guests. Here are some practical matters to keep in mind.'}</p>
                </div>
                
                <div class="bg-slate-50 p-8 shadow-inner rounded-sm">
                   <ul class="space-y-4">
                        <li class="flex justify-between items-center border-b border-slate-200 pb-2">
                              <span class="font-bold text-slate-700">Check-in</span>
                              <span class="text-slate-500">15:00 - 22:00</span>
                        </li>
                        <li class="flex justify-between items-center border-b border-slate-200 pb-2">
                              <span class="font-bold text-slate-700">Check-out</span>
                              <span class="text-slate-500">11:00</span>
                        </li>
                        <li class="flex justify-between items-center border-b border-slate-200 pb-2">
                              <span class="font-bold text-slate-700">{lang === 'nl' ? 'Ontbijt' : 'Breakfast'}</span>
                              <span class="text-slate-500">{lang === 'nl' ? 'Inclusief' : 'Included'}</span>
                        </li>
                   </ul>
                </div>
            </div>
        </ScrollReveal>
    </div>

  </div>
</Layout>
